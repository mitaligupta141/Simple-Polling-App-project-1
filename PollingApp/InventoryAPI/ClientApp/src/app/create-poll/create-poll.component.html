<app-navbar></app-navbar>

<div  @slideFadeIn  style="width: 100vw;" class="min-h-screen w-full bg-white px-6 md:px-10 py-12 text-gray-800">

  <div *ngIf="error" class="text-red-500 mt-6 text-center text-sm font-semibold">
    {{ error }}
  </div>


  <div  class="text-center mb-10">
    <h1 class="text-4xl md:text-5xl font-extrabold text-green-900 mb-3">
      üó≥Ô∏è Create a New Poll of your own choice
    </h1>
   
  </div>


  <mat-card  class="max-w-3xl mx-auto p-8 rounded-3xl shadow-xl">
    <form (ngSubmit)="submitPoll()" class="space-y-6">

     
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Poll Question</mat-label>
        <input matInput [(ngModel)]="poll.question" name="question" placeholder="Enter your poll question" required />
      </mat-form-field>

  
      <div>
        <label class="block text-gray-700 font-semibold mb-2">Options <span class="text-red-500">*</span></label>
        <div *ngFor="let option of poll.options; let i = index" class="flex items-center gap-4 mb-4">
          <mat-form-field appearance="outline" class="flex-1">
            <mat-label>Option {{ i + 1 }}</mat-label>
            <input matInput [(ngModel)]="poll.options[i]" name="option{{ i }}" required />
          </mat-form-field>

          <button
            mat-icon-button
            color="warn"
            (click)="removeOption(i)"
            *ngIf="poll.options.length > 2"
            matTooltip="Remove option"
          >
            <mat-icon>close</mat-icon>
          </button>
        </div>

      
        <button
          mat-stroked-button
          color="primary"
          (click)="addOption()"
          [disabled]="poll.options.length >= 10"
          class="mt-2"
        >
          <mat-icon>add</mat-icon> Add Option
        </button>
      </div>

      <div class="text-right pt-6">
        <button  class="w-full py-3 font-bold bg-green-700 text-white" type="submit">
          ‚úÖ Create Poll
        </button>
      </div>
    </form>
  </mat-card>
</div>

<app-footer></app-footer>
